<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Rian's Library{% endblock %}</title>

    {% load static %}
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <!-- Lottie Animation -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Banner -->
    <div class="banner">
        <h1>ğŸ“š Rian's Library</h1>
        <p>Discover amazing books from our curated collection</p>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div style="display: flex; align-items: center; justify-content: space-between; width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 2rem;">
            <div>
                <a href="{% url 'books:home' %}" class="nav-btn {% if request.resolver_match.url_name == 'home' %}active{% endif %}">
                    ğŸ  Home
                </a>
                <a href="{% url 'books:authors' %}" class="nav-btn {% if request.resolver_match.url_name == 'authors' %}active{% endif %}">
                    ğŸ‘¥ Authors
                </a>
                <a href="{% url 'books:search' %}" class="nav-btn {% if request.resolver_match.url_name == 'search' %}active{% endif %}">
                    ğŸ” Search
                </a>
            </div>

            <div>
                {% if user.is_authenticated %}
                    <span style="color: #667eea; margin-right: 1rem; font-weight: 600;">
                        ğŸ‘‹ Hello, {{ user.first_name|default:user.username }}!
                    </span>
                    <a href="{% url 'books:logout' %}" class="nav-btn" style="background: linear-gradient(45deg, #e74c3c, #c0392b);">
                        ğŸšª Logout
                    </a>
                {% else %}
                    <a href="{% url 'books:login' %}" class="nav-btn {% if request.resolver_match.url_name == 'login' %}active{% endif %}">
                        ğŸ”‘ Login
                    </a>
                    <a href="{% url 'books:register' %}" class="nav-btn {% if request.resolver_match.url_name == 'register' %}active{% endif %}">
                        ğŸ“ Register
                    </a>
                {% endif %}
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Messages -->
        {% if messages %}
            <div style="margin-bottom: 2rem;">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}" style="
                        padding: 1rem;
                        margin-bottom: 1rem;
                        border-radius: 10px;
                        {% if message.tags == 'success' %}
                            background: linear-gradient(45deg, #27ae60, #2ecc71);
                            color: white;
                        {% elif message.tags == 'error' %}
                            background: linear-gradient(45deg, #e74c3c, #c0392b);
                            color: white;
                        {% else %}
                            background: linear-gradient(45deg, #667eea, #764ba2);
                            color: white;
                        {% endif %}
                    ">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}

        <div class="page">
            {% block content %}{% endblock %}
        </div>
    </div>

    {% block extra_js %}{% endblock %}
</body>
</html>
